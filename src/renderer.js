var canvas,ctx,W,H;var mp=screen.width>=988?150:75;var deactivationTimerHandler,reactivationTimerHandler,animationHandler;var particles=[],angle=0,tiltAngle=0;var confettiActive=true,animationComplete=true;var particleColors={colorOptions:["DodgerBlue","OliveDrab","Gold","pink","SlateBlue","lightblue","Violet","PaleGreen","SteelBlue","SandyBrown","Chocolate","Crimson"],colorIndex:0,colorIncrementer:0,colorThreshold:10,getColor(){const{colorOptions,colorIndex,colorIncrementer}=this;const color=colorOptions[colorIndex];this.colorIncrementer=(colorIncrementer+1)%10;this.colorIndex=colorIncrementer===0?(colorIndex+1)%colorOptions.length:colorIndex;return color}};function confettiParticle(t){this.x=Math.random()*W;this.y=Math.random()*H-H;this.r=RandomFromTo(10,30);this.d=Math.random()*mp+10;this.color=t;this.tilt=Math.floor(10*Math.random())-10;this.tiltAngleIncremental=0.07*Math.random()+0.05;this.tiltAngle=0}confettiParticle.prototype.draw=function(){ctx.beginPath();ctx.lineWidth=this.r/2;ctx.strokeStyle=this.color;ctx.moveTo(this.x+this.tilt+this.r/4,this.y);ctx.lineTo(this.x+this.tilt,this.y+this.tilt+this.r/4);ctx.stroke()};function SetGlobals(){(canvas1=document.getElementById("canvas")),(ctx=canvas1.getContext("2d")),(W=window.innerWidth),(H=window.innerHeight),(canvas1.width=W),(canvas1.height=H)}function InitializeConfetti(){(particles=[]),(animationComplete=!1);for(var t=0;t<mp;t++){var i=particleColors.getColor();particles.push(new confettiParticle(i))}StartConfetti()}function Draw(){ctx.clearRect(0,0,W,H);for(var t,i=[],n=0;n<mp;n++)(t=n),i.push(particles[t].draw());return Update(),i}function RandomFromTo(t,i){return Math.floor(Math.random()*(i-t+1)+t)}function Update(){if(animationComplete)return;angle+=0.01;tiltAngle+=0.1;var activeParticles=0;for(var i=0;i<mp;i++){var particle=particles[i];if(!confettiActive&&particle.y<-15){repositionParticle(particle,RandomFromTo(0,W),H+100,RandomFromTo(-10,10))}else{stepParticle(particle,i);if(particle.y<=H){activeParticles++;CheckForReposition(particle,i)}}}if(activeParticles===0){StopConfetti()}}function CheckForReposition(particle,index){if(particle.x>W+20||particle.x<-20||particle.y>H){if(!confettiActive){return}const tiltAngleIncremental=0.07*Math.random()+0.05;if(index%5>0||index%2==0){repositionParticle(particle,Math.random()*W,-10,Math.floor(10*Math.random())-10,tiltAngleIncremental)}else if(Math.sin(angle)>0){repositionParticle(particle,-5,Math.random()*H,Math.floor(10*Math.random())-10,tiltAngleIncremental)}else{repositionParticle(particle,W+5,Math.random()*H,Math.floor(10*Math.random())-10,tiltAngleIncremental)}}}function stepParticle(particle,index){particle.tiltAngle+=particle.tiltAngleIncremental;particle.y+=(Math.cos(angle+particle.d)+3+particle.r/2)/2;particle.x+=Math.sin(angle);particle.tilt=15*Math.sin(particle.tiltAngle-index/3)}function repositionParticle(particle,x,y,tilt){particle.x=x;particle.y=y;particle.tilt=tilt}function StartConfetti(){W=window.innerWidth;H=window.innerHeight;canvas1.width=W;canvas1.height=H;function t(){if(!animationComplete){animationHandler=requestAnimFrame(t);Draw()}}t()}function ClearTimers(){clearTimeout(reactivationTimerHandler),clearTimeout(animationHandler)}function DeactivateConfetti(){(confettiActive=!1),ClearTimers()}function StopConfetti(){(animationComplete=!0),null!=ctx&&ctx.clearRect(0,0,W,H)}function RestartConfetti(){ClearTimers(),StopConfetti(),(reactivationTimerHandler=setTimeout(function(){(confettiActive=!0),(animationComplete=!1),InitializeConfetti()},100))}window.onload=function(){SetGlobals(),InitializeConfetti(),(canvas1.width=window.innerWidth),(canvas1.height=window.innerHeight)};window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)};